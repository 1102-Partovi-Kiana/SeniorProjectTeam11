{% extends "base.html" %}

{% block title %}
<title>Coding the Robot Movement - CORE</title>
{% endblock %}

{% block body %}
<div class="course-container">
      <!-- Sidebar for module navigation -->
      <div class="course-sidebar">
        <div class="course-sidebar-header">
            <i class="fas fa-list"></i>
            <span>Contents</span>
        </div>
        <ul class="course-list">
            <li class="course-item"> 
                <a href="{{ url_for ('module_eight') }}" class="course-link">Objectives</a>
            </li>
            <li class="course-item">
                <a href="{{ url_for ('module_eight_about') }}" class="course-link">About</a>
            </li>
            <li class="course-item">
                <a href="{{ url_for ('module_eight_given') }}" class="course-link">Environment</a>
                <ul class="sub-list">
                    <li><a href="#word-bank-fetch-stack">Word Bank</a></li>
                    <li><a href="#given-fetch-stack">What is Given</a></li>
                    <li><a href="#retrieve-fetch-stack">What needs to be Retrieved</a></li>
                </ul>
            </li>
            <li class="course-item active">
                <a href="{{ url_for ('module_eight_code') }}" class="course-link">Coding Logic</a>
                <ul class="sub-list">
                    <li><a href="#word-bank-fetch-stack">Word Bank</a></li>
                    <li><a href="#code-fetch-stack">What Needs to Be Coded</a></li>
                </ul>
            </li>
            <li class="course-item">
                <a href="{{ url_for ('module_eight_link') }}" class="course-link">Time to Code</a>
            </li>
        </ul>
    </div> <!-- End of course-sidebar -->

    <div class="course-main-content">
        <!-- Page Header -->
        <header class="page-header">
            <h1 class="page-title">Coding the Robot Movement</h1>
            <p class="page-description">Learn how to implement the logic required to use the Fetch Pick and Place Robot.</p>
        </header>

        <!-- Word Bank Section -->
        <div class="word-bank" id="word-bank-fetch-stack" style="background-color: #f9f9ff; border: 1px solid #ddd; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="font-size: 1.8rem; color: #333; text-align: center;">üìö Word Bank</h3>
            <p style="font-size: 1rem; color: #555; text-align: center;">Key terms for this module:</p>
            <ul style="list-style: none; padding: 0;">
                <li style="margin: 10px 0;">
                    <strong>üì¶ Environment (env):</strong> The virtual space where the robot operates.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üîß FetchPickAndPlaceEnv:</strong> The specific environment object for the task setup.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üìè Distance Threshold:</strong> Maximum allowable distance between the gripper and the object.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üîÑ Step Size:</strong> Incremental movement of the gripper.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üîê Close Grip Action:</strong> Array representing the action to close the gripper.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üîì Open Grip Action:</strong> Array representing the action to open the gripper.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üí™ Lift Action:</strong> Array representing small upward movement to lift the gripper while holding an object.
                </li>
            </ul>
        </div>

        <!-- Section: What Needs to be Coded -->
        <div class="module-section" id="code-fetch-stack">
            <h3>What Needs to be Coded</h3>
            <ul>
                <li><strong>Open the Gripper:</strong> Start by ensuring the gripper is in the open position, allowing it to grab the box. This involves sending an action command to the robot to spread the gripper fingers apart.</li>
                <li><strong>Move the Gripper Horizontally Towards the Object:</strong> The gripper should move in the horizontal plane (X and Y directions) until it aligns with the box. This requires calculating the horizontal distance between the gripper and the object and making small, incremental steps in that direction until the gripper is close enough.</li>
                <li><strong>Lower the Gripper to Grasp the Object:</strong> Once horizontally aligned, the gripper needs to move downward (in the Z direction) until it is at the correct height to grasp the object. This ensures that the gripper can securely hold the object.</li>
                <li><strong>Close the Gripper Around the Object:</strong> After reaching the box, send a command to close the gripper. This action should securely hold the object in place.</li>
                <li><strong>Lift the Object:</strong> The gripper should then move slightly upward to lift the box off the surface. This action ensures that the box is ready to be transported without dragging.</li>
                <li><strong>Move the Object to the Stacking Position:</strong> Calculate the horizontal distance from the gripper to the stacking position. Normalize the direction and move the gripper incrementally until it aligns with the target stacking location.</li>
                <li><strong>Lower the Object for Stacking:</strong> Once horizontally aligned with the stacking position, calculate the height difference between the current stack height and the object being placed. Lower the gripper incrementally until the object is in the correct stacking position.</li>
                <li><strong>Release the Object into the Stack:</strong> Release the object at the target stacking position.</li>
                <li><strong>Return to the Next Object:</strong> Move the gripper back to the next object in the list. Repeat the process for each object to complete the stack.</li>
            </ul>
        </div> <!-- End of What Needs to be Coded Section -->

        <!-- Next Button -->
        <div class="navigation-buttons mt-4">
            <a href="{{ url_for('module_eight_given') }}" class="secondary-button">Back: Environment</a>
            <a href="{{ url_for('module_eight_download') }}" class="secondary-button">Next: Modulde 9</a>
        </div>

    </div> <!-- End of course-main-content -->
</div> <!-- End of course-container -->
{% endblock %}
