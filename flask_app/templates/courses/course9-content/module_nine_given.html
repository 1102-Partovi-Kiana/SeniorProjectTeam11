{% extends "base.html" %}

{% block title %}
<title>Robot Environment - CORE</title>
{% endblock %}

{% block body %}
<div class="course-container">
    <!-- Sidebar for module navigation -->
    <div class="course-sidebar">
        <div class="course-sidebar-header">
            <i class="fas fa-list"></i>
            <span>Contents</span>
        </div>
        <ul class="course-list">
            <li class="course-item"> 
                <a href="{{ url_for ('module_nine') }}" class="course-link">Objectives</a>
            </li>
            <li class="course-item">
                <a href="{{ url_for ('module_nine_about') }}" class="course-link">About</a>
            </li>
            <li class="course-item active">
                <a href="{{ url_for ('module_nine_given') }}" class="course-link">Environment</a>
                <ul class="sub-list">
                    <li><a href="#word-bank-fetch-organize">Word Bank</a></li>
                    <li><a href="#sim">Fetch Organize Simulation Labeled</a></li>
                    <li><a href="#given-fetch-organize">What is Given</a></li>
                    <li><a href="#retrieve-fetch-organize">What needs to be Retrieved</a></li>
                </ul>
            </li>
            <li class="course-item">
                <a href="{{ url_for ('module_nine_code') }}" class="course-link">Coding Logic</a>
                <ul class="sub-list">
                    <li><a href="#word-bank-fetch-organize">Word Bank</a></li>
                    <li><a href="#code-fetch-organizee">What Needs to Be Coded</a></li>
                </ul>
            </li>
            <li class="course-item">
                <a href="{{ url_for ('module_nine_link') }}" class="course-link">Time to Code</a>
            </li>
        </ul>
    </div> <!-- End of course-sidebar -->

    <div class="course-main-content">
        <!-- Page Header -->
        <header class="page-header">
            <h1 class="page-title">Robot Environment</h1>
            <p class="page-description">Understand the components of the robot's environment and how to interact with them.</p>
        </header>

        <!-- Word Bank Section -->
        <div class="word-bank" id="word-bank-fetch-organize" style="background-color: #f9f9ff; border: 1px solid #ddd; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="font-size: 1.8rem; color: #333; text-align: center;">üìö Word Bank</h3>
            <p style="font-size: 1rem; color: #555; text-align: center;">Key terms for this module:</p>
            <ul style="list-style: none; padding: 0;">
                <li style="margin: 10px 0;">
                    <strong>üì¶ Environment (env):</strong> The virtual space where the robot operates.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üîß FetchOrganizeEnv:</strong> The specific environment object for the task setup.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üìè Box to Ball Threshold:</strong> The distance value that determines when the object is "close enough" to the container.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üîê Close Grip Action:</strong> Array representing the action to close the gripper.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üîì Open Grip Action:</strong> Array representing the action to open the gripper.
                </li>
                <li style="margin: 10px 0;">
                    <strong>‚¨ÜÔ∏è Ascend Action:</strong> Array representing small upward movement to lift the gripper while holding an object.
                </li>
                <li style="margin: 10px 0;">
                    <strong>‚¨áÔ∏è Descend Action:</strong> Array representing small downward movement to lower the gripper.
                </li>
                <li style="margin: 10px 0;">
                    <strong>üé® Target Color:</strong> The color value used to identify which objects need to be moved to the container.
                </li>
            </ul>
        </div>

        <div class="divider">
            <span class="divider-text">Let‚Äôs Look At the Fetch Organize Robot Labeled</span>
        </div>

        <div class="module-section" id="sim">
            <h3>Fetch Organize Simulation</h3>
            <img src="{{ url_for('static', filename='img/FOLL.png') }}" alt="Fetch Organize Robot" class="robot-image">
            <br>
            <p>Here is a simulation of the Fetch Organize robot that you will be interacting with and programming derived from MuJoCo and OpenAI Gym.</p>
            <p><strong>The Task of the Fetch Organize Robot</strong>: Fetch Organize must detect four different objects, identify the two predefined target-colored blocks, and accurately place them into the designated container.</p>
        </div>

        <div class="divider">
            <span class="divider-text">Let‚Äôs Look At What Is Given To Us</span>
        </div>

        <!-- Section 1: What is Given -->
        <div class="module-section" id="given-fetch-organize">
            <h3>What is Given</h3>
            <ul>
                <li><strong>global env:</strong> This represents the robot's environment, which contains the robot's current state and methods for interacting with it. The environment has various "getters" and "setters."</li>
                <li><strong>env = FetchOrganizeEnv():</strong> The environment object that is initialized and is part of the task setup.</li>
                <li><strong>gripper_to_object_distance_threshold:</strong> The distance value that will be used to determine when the gripper is "close enough" to the object.</li>
                <li><strong>container_to_object_distance_threshold:</strong> The distance value that will be used to determine when the object is "close enough" to the container.</li>
                <li><strong>close_grip_action and open_grip_action:</strong> Arrays representing actions to close or open the gripper, respectively.</li>
                <li><strong>ascend_action and descend_action:</strong> Arrays representing small upward or downward movement to lift the gripper while holding an object.</li>
                <li><strong>target_color:</strong> The color value that will be used to identify which objects need to be moved to the container.</li>
            </ul>
        </div> <!-- End of What is Given Section -->

        <div class="divider">
            <span class="divider-text">Let‚Äôs Look At What Needs To Be Retrieved</span>
        </div>

        <!-- Section 2: What Needs to be Retrieved -->
        <div class="module-section" id="retrieve-fetch-organize">
            <h3>What Needs to be Retrieved</h3>
            <ul>
                <li><strong>gripper_position:</strong> This value represents the current position of the robot's gripper. It‚Äôs essential for calculating the direction and updating the gripper‚Äôs position after each movement. It will be retrieved by calling a method or function from the global variable ‚Äúenv.‚Äù</li>
                <li><strong>object_position:</strong> The position of the object the robot is interacting with. It will be retrieved from the environment using the object‚Äôs name.</li>
                <li><strong>direction_to_container:</strong> The direction from the gripper to the ball and the direction from the gripper to the box, calculated by subtracting the gripper's position from the ball's position or box‚Äôs position. This will be used to calculate how the gripper should move to reach the ball.</li>
                <li><strong>direction_normalized:</strong> Adjusting the difference between each step when calculating the distance to the container.</li>
                <li><strong>color:</strong> The current color of the object being handled, retrieved from the environment to determine if it matches the target color.</li>
            </ul>
        </div> <!-- End of What Needs to be Retrieved Section -->

        <!-- Next Button -->
        <div class="navigation-buttons mt-4">
            <a href="{{ url_for('module_nine_about') }}" class="secondary-button">Back: About</a>
            <a href="{{ url_for('module_nine_code') }}" class="secondary-button">Next: Coding Logic</a>
        </div>

    </div> <!-- End of course-main-content -->
</div> <!-- End of course-container -->
{% endblock %}
