{% extends "base.html" %}

{% block title %}
<title>CORE Environment List - CORE</title>
{% endblock %}

{% block body %}
<section class="environments-landing-container">
	<div class="container mt-2 mt-md-5 mb-5">
		<h1 class="page-title text-center">Environments</h1>
		<div class="row">
			{% for env in environments %}
			<div class="col-md-6 col-lg-4 col-card">
				<div class="card border-0">
					<!-- Updated to Bootstrap 5's .ratio for responsive video -->
					<div class="ratio ratio-4x3">
						<video class="embed-responsive-item" id="video" width="100%" height="200" muted autoplay loop>
							<source src="/static/preview_files/{{ env['preview_filename'] }}" type="video/mp4">
						</video>
					</div>
					<div class="card-body d-flex flex-column">
						<h2 class="card-title">{{ env['name'] }}</h2>
						<p class="card-text">{{ env['brief_description'] }}</p>
						<a class="stretched-link" href="{{ url_for('RenderEnvironment', environment_id=env['id']) }}"></a>

						
						<!-- SVG remains unchanged in Bootstrap 5 -->
						<svg class="bi mt-auto ms-auto" width="35" height="35" fill="currentColor">
							<use xlink:href="{{ url_for('static', filename='img/bootstrap-icons.svg') }}#arrow-right" />
						</svg>
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
</section>
{% endblock %}
