{% extends "base.html" %}

{% block title %}
<title>Robotics Courses - CORE</title>
{% endblock %}

{% block body %}

<!-- Greet the user -->
<div class="greeting">
    <h1>Hello, {{ user['first_name'] }} {{ user['last_name'] }}! Welcome to your course catalog</h1>
</div>

<div class="search-bar">
    <form method="get" action="/courses" class="search-container">
        <input type="text" id="search-input" name="q" placeholder="Search for courses..." value="{{ query }}" />
        <button type="button" id="mic-button" aria-label="Start voice search">
            <i class="bi bi-mic"></i>
        </button>
        <button type="submit" id="search-button" aria-label="Search">
            <i class="bi bi-search"></i>
        </button>
    </form>
</div>

<!-- Course Catalog -->
<div class="course-catalog-container">
    <div class="modules-overview">
        {% for course in courses %}
        <div class="module-card">
            <div class="card-header">
                <span class="course-type">{{ course.level }} Level</span>
            </div>
            <h2><a href="{{ url_for(course.route) }}">{{ course.course_name }}</a></h2>
            <p>{{ course.course_desc }}</p>
            {% if is_student %}
            <div class="progress-bar-container">
                <div class="progress-bar-info">
                    <h2>Completed Progress</h2>
                    <div class="progress-bar">
                        {% if complete_percentage is not none %}
                            <div class="completed-progress" style="width: {{ complete_percentage }}%;">
                                <span>{{ complete_percentage }}%</span>
                            </div>
                        {% else %}
                            <div class="completed-progress" style="width: 0%;">
                                <span>0%</span>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endif %}  
            <div class="card-footer">
                {% if course.certificate %}
                <span class="certificate">With <strong>Certificate</strong></span>
                {% endif %}
            </div>
            <div class="card-footer">
                <span class="level"><strong>{{ course.level }}</strong></span>
                <span class="duration">{{ course.length }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>



<!-- Chatbot Button -->
<div class="chatbot-label-container">
<div class="chatbot-label">Hi! I'm CORA, your personal assistant. Click me!</div>
<div class="chatbot-button">
    <img src="{{ url_for('static', filename='img/blinking.gif') }}" alt="Chatbot Logo" class="chatbot-logo">
</div>
</div>

<!-- Second Chatbot Interface -->
<div class="chatbot-container" class="chatbot2-container navy-gradient-glow" id="chatbot2-container" style="display: none;">
    <div class="navy-gradient-glow">
    <header class="chat-header">
        <h1>✨ Cora, Your AI Learning Assistant</h1>
        <button class="close-chatbot-btn" id="closeChatbot">✖</button>
    </header>
    <div class="chatbox2 navy-gradient-glow" id="chatbox2" class="chatbox chat-body">
        <p class="info-title">Support where you need it</p>
        <div class="general-text">
            <p>Your personal AI Learning Assistant, Cora, can access:</p>
            <ul style="list-style-type: none; padding: 0; margin: 0;">
                <li>&#10003; Your exact lesson</li>
                <li>&#10003; The instructions</li>
                <li>&#10003; What page your on</li>
            </ul>
            <p class="info-text">
                Not just any chatbot. Take advantage of help in the right moments with your unique learning experience.
            </p>
        </div>
    </div>
    <div class="chat-input-container chat-footer">
        <input type="text" id="userInput2" class="chat-input" placeholder="Send a message">
        <button id="sendBtn2" class="send-btn">&#9658;</button>
    </div>
    </div>
</div>
    
</div>
{% endblock %}